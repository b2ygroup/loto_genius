<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loto Genius AI - Sua Sorte Inteligente</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">

    <script defer src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>

    <script defer src="firebase-config.js"></script>
    <script defer src="script.js"></script>
</head>
<body>
    <a href="#app-content" class="skip-link">Pular para o conteúdo principal</a>

    <div id="inclusive-welcome-screen" role="dialog" aria-labelledby="welcome-title" aria-describedby="welcome-desc welcome-voice-prompt-alternative" aria-modal="true" style="display: flex;">
        <div class="welcome-content">
            <h1 id="welcome-title" class="welcome-title-text">Bem-vindo ao Loto Genius AI!</h1>
            <p id="welcome-desc" class="welcome-desc-text">Esta plataforma é de inclusão e oferece um guia de voz opcional para auxiliar na navegação e uso das funcionalidades. O guia pode ser ativado ou desativado a qualquer momento.</p>
            <p class="welcome-question-text">Deseja ativar o guia de voz agora?</p>
            <div class="welcome-actions">
                <button id="welcome-voice-yes-btn" class="welcome-btn positive-action">
                    <i class="fas fa-check-circle" aria-hidden="true"></i> Sim, ativar guia
                </button>
                <button id="welcome-voice-no-btn" class="welcome-btn negative-action">
                    <i class="fas fa-times-circle" aria-hidden="true"></i> Não, continuar sem
                </button>
            </div>
            <p id="welcome-voice-prompt-alternative" class="voice-prompt-alternative-text">(Você também pode dizer "Sim" ou "Não" após a mensagem de áudio)</p>
        </div>
    </div>

    <div id="accessible-splash-screen" style="display: none;" role="dialog" aria-modal="true" aria-labelledby="splash-title" aria-describedby="splash-status-message">
        <div class="splash-content-wrapper">
            <div class="splash-logo-tech" aria-hidden="true">
                <span class="char l">L</span><span class="char o1">o</span><span class="char t">t</span><span class="char o2">o</span>
                <span class="char g">G</span><span class="char e">e</span><span class="char n">n</span><span class="char i">i</span><span class="char u">u</span><span class="char s">s</span>
            </div>
            <h1 id="splash-title" class="splash-main-title" aria-live="polite">Loto Genius AI</h1>
            <p id="splash-status-message" class="splash-subtitle-message" aria-live="polite">Decifrando os segredos da sorte para você!</p>
            <div class="progress-bar-container" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-label="Progresso do carregamento">
                <div class="progress-bar-fill"></div>
            </div>
        </div>
    </div>

    <header role="banner">
        <div class="logo-container"><h1>Loto Genius AI</h1></div>
        <nav id="main-nav" style="display:none;" aria-label="Navegação Principal">
            <button id="nav-dashboard-btn" class="nav-item active" title="Painel Principal"><i class="fas fa-tachometer-alt" aria-hidden="true"></i> <span class="nav-text">Painel</span></button>
            <button id="nav-my-games-btn" class="nav-item" title="Meus Jogos"><i class="fas fa-ticket-alt" aria-hidden="true"></i> <span class="nav-text">Meus Jogos</span></button>
            <button id="nav-pools-btn" class="nav-item" title="Bolões"><i class="fas fa-users" aria-hidden="true"></i> <span class="nav-text">Bolões</span></button>
        </nav>
        <div id="auth-section" aria-label="Autenticação do Usuário">
            <button id="voice-command-btn" class="auth-btn" title="Ativar Guia de Voz" aria-pressed="false" style="margin-right: 10px; border-color: #82e0aa; min-width: 140px; display: none;">
                <i class="fas fa-microphone" aria-hidden="true"></i> <span class="voice-btn-text">Ativar Guia</span>
            </button>
            <button id="login-modal-btn" class="auth-btn">Login</button>
            <button id="register-modal-btn" class="auth-btn">Registrar</button>
            <div id="user-info" style="display:none;"><span id="user-email"></span><button id="logout-btn" class="auth-btn logout" aria-label="Sair da sua conta"><i class="fas fa-sign-out-alt" aria-hidden="true"></i></button></div>
        </div>
    </header>

    <div id="main-carousel-banner-container" class="main-carousel-wrapper">
        <div id="banner-top-dashboard" class="ad-placeholder banner-top-dashboard carousel-ad" role="complementary" aria-label="Banner principal rotativo">
            <p>Carregando anúncio...</p>
        </div>
    </div>

    <main id="app-content" style="display:none;" role="main">
        <section id="dashboard-section" class="main-section active-section" aria-labelledby="dashboard-title-main">
            <h2 id="dashboard-title-main" class="visually-hidden">Painel Principal Loto Genius</h2>

            <div class="card" id="global-lottery-selector-card" style="margin-bottom: 2rem;">
                <h3 class="card-title-accessible"><i class="fas fa-cogs" aria-hidden="true"></i> Selecione a Loteria Principal</h3>
                <label for="main-lottery-select" class="visually-hidden">Selecionar Loteria Principal</label>
                <select id="main-lottery-select" style="width: 100%; max-width: 400px; margin: 0.5rem auto; display: block; padding: 0.6rem; font-size: 1.05rem;">
                    <option value="megasena">Mega-Sena</option>
                    <option value="lotofacil">Lotofácil</option>
                    <option value="lotomania">Lotomania</option>
                    <option value="quina">Quina</option>
                </select>
                <div style="text-align: center; margin-top: 1rem;">
                    <button id="refresh-all-dashboard-data-btn" class="action-btn primary-action refresh-btn">
                        <i class="fas fa-sync-alt" aria-hidden="true"></i> Atualizar Dados da Loteria
                    </button>
                </div>
            </div>

            <section id="platform-highlights-container" class="dashboard-subsection" aria-labelledby="platform-highlights-title-h3">
                 <h3 id="platform-highlights-title-h3" class="card-title-accessible">
                    <i class="fas fa-star" aria-hidden="true"></i> Loto Genius em Destaque
                </h3>
                <div class="grid-container-highlights">
                    <div id="platform-highlights" class="card">
                        <div class="highlights-grid">
                            <div class="highlight-item"><i class="fas fa-dice-d20" aria-hidden="true"></i><span id="stats-jogos-gerados" class="stat-number">--</span><p>Palpites Gerados</p></div>
                            <div class="highlight-item"><i class="fas fa-trophy" aria-hidden="true"></i><span id="stats-jogos-premiados" class="stat-number">--</span><p>Palpites Premiados (Fictício)</p></div>
                            <div class="highlight-item"><i class="fas fa-sack-dollar" aria-hidden="true"></i><span id="stats-valor-premios" class="stat-number">R$ --</span><p>Prêmios Ganhos (Fictício)</p></div>
                        </div>
                    </div>
                    <section id="winning-pools-preview" class="card" aria-labelledby="winning-pools-title">
                        <h3 id="winning-pools-title"><i class="fas fa-users-crown"></i> Bolões Premiados (Simulado)</h3>
                        <ul id="recent-pools-list" aria-live="polite"><li><div class="spinner small-spinner"></div> Carregando...</li></ul>
                    </section>
                    <section id="top-winners-preview" class="card" aria-labelledby="top-winners-title">
                        <h3 id="top-winners-title"><i class="fas fa-medal"></i> Top Ganhadores (Fictício)</h3>
                        <ol id="top-winners-list" aria-live="polite"><li><div class="spinner small-spinner"></div> Carregando...</li></ol>
                    </section>
                </div>
            </section>

            <section id="lottery-info-section" class="dashboard-subsection" aria-labelledby="lottery-info-title-h3">
                <h3 id="lottery-info-title-h3" class="card-title-accessible">
                    <i class="fas fa-chart-bar" aria-hidden="true"></i> Informações e Estatísticas: <span id="dynamic-lottery-name-info">Mega-Sena</span>
                </h3>
                <div class="grid-container-stats">
                    <div class="card" id="results-display-card" aria-labelledby="results-title">
                         <h3 id="results-title"><i class="fas fa-poll" aria-hidden="true"></i> Últimos Resultados</h3>
                         <div id="api-results" class="code-block" aria-live="polite" style="min-height: 120px;">Aguardando seleção de loteria...</div>
                    </div>
                    <div class="card" id="frequency-stats-card" aria-labelledby="frequency-stats-title">
                         <h3 id="frequency-stats-title"><i class="fas fa-sort-numeric-up-alt"></i> Mais Sorteados</h3>
                         <div id="frequency-list-container" class="stats-list-container" aria-live="polite"><p class="loading-stats"><div class="spinner small-spinner"></div></p></div>
                    </div>
                    <div class="card" id="pair-frequency-stats-card" aria-labelledby="pair-frequency-stats-title">
                         <h3 id="pair-frequency-stats-title"><i class="fas fa-project-diagram"></i> Pares Frequentes</h3>
                         <div id="pair-frequency-list-container" class="stats-list-container" aria-live="polite"><p class="loading-stats"><div class="spinner small-spinner"></div></p></div>
                    </div>
                    <div class="card" id="city-stats-card" aria-labelledby="city-stats-title">
                         <h3 id="city-stats-title"><i class="fas fa-city"></i> Cidades Premiadas</h3>
                         <p class="stats-subtitle">(Ganhadores do prêmio principal)</p>
                         <div id="city-list-container" class="stats-list-container" aria-live="polite"><p class="loading-stats"><div class="spinner small-spinner"></div></p></div>
                    </div>
                    <div class="card" id="city-prize-sum-card" aria-labelledby="city-prize-sum-title">
                        <h3 id="city-prize-sum-title"><i class="fas fa-hand-holding-usd"></i> Prêmios por Cidade</h3>
                        <p class="stats-subtitle">(Soma dos prêmios principais)</p>
                        <div id="city-prize-sum-list-container" class="stats-list-container" aria-live="polite"><p class="loading-stats"><div class="spinner small-spinner"></div></p></div>
                    </div>
                </div>
            </section>

            <section id="hunch-generators-section-logged-out" class="dashboard-subsection" aria-labelledby="hunch-generators-title-h3-logged-out">
                <h3 id="hunch-generators-title-h3-logged-out" class="card-title-accessible">
                    <i class="fas fa-magic" aria-hidden="true"></i> Geradores de Palpites para <span id="dynamic-lottery-name-hunch-logged-out">Mega-Sena</span>
                </h3>
                <div class="grid-container-generators">
                    <div class="card" id="quick-hunch-card-logged-out" aria-labelledby="quick-hunch-title-logged-out">
                        <h3 id="quick-hunch-title-logged-out"><i class="fas fa-bolt" aria-hidden="true"></i> Palpite Aleatório Rápido</h3>
                        <div class="button-group" style="margin-top:1rem;">
                            <button id="generate-quick-hunch-btn-logged-out" class="action-btn primary-action"><i class="fas fa-random" aria-hidden="true"></i> Gerar Palpite Rápido</button>
                        </div>
                        <div id="quick-hunch-output-logged-out" class="game-card" style="display:none;" aria-live="polite" aria-atomic="true">
                            <h4><i class="fas fa-lightbulb" aria-hidden="true"></i> Seu Palpite Rápido:</h4>
                            <div id="quick-hunch-numbers-logged-out" class="game-numbers"></div>
                            <p id="quick-hunch-strategy-logged-out" class="strategy-text"></p>
                            <div class="game-card-actions">
                                <button id="check-quick-hunch-btn-logged-out" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                            </div>
                            <div id="quick-hunch-check-result-logged-out" class="check-result-display" aria-live="polite"></div>
                        </div>
                    </div>
                </div>
                <div id="cosmic-promo-banner" class="card promo-banner" style="display:block; margin-top: 2rem;">
                    <h3 class="promo-title"><i class="fas fa-meteor"></i> Palpites Avançados e Personalizados! <i class="fas fa-hat-wizard"></i></h3>
                    <p class="promo-text">Use a sabedoria ancestral da numerologia, números quentes, frios e mais...</p>
                    <p class="promo-cta"><strong>Registre-se ou faça login</strong> para ter acesso exclusivo à nossa suíte completa de geradores inteligentes!</p>
                    <div class="button-group" style="justify-content: center; margin-top:15px;">
                        <button class="action-btn primary-action" id="promo-register-btn">Quero Me Registrar!</button>
                        <button class="action-btn" id="promo-login-btn">Já Tenho Conta</button>
                    </div>
                </div>
            </section>

            <section id="logged-in-hunch-tabs-section" class="dashboard-subsection" style="display:none;" aria-labelledby="logged-in-hunch-title-h3">
                <h3 id="logged-in-hunch-title-h3" class="card-title-accessible">
                    <i class="fas fa-layer-group"></i> Nossos Palpites Inteligentes para <span id="dynamic-lottery-name-hunch-tabs">Mega-Sena</span>
                </h3>
                <nav class="tabs-navigation" aria-label="Tipos de Palpites">
                    <ul>
                        <li><a href="#tab-hot" id="tab-hot-link" class="tab-link active" role="tab" aria-selected="true" aria-controls="tab-hot">Palpites Quentes 🔥</a></li>
                        <li><a href="#tab-cold" id="tab-cold-link" class="tab-link" role="tab" aria-selected="false" aria-controls="tab-cold">Palpites Frios ❄️</a></li>
                        <li><a href="#tab-esoteric" id="tab-esoteric-link" class="tab-link" role="tab" aria-selected="false" aria-controls="tab-esoteric">Palpites Esotéricos ✨</a></li>
                        <li><a href="#tab-algorithmic" id="tab-algorithmic-link" class="tab-link" role="tab" aria-selected="false" aria-controls="tab-algorithmic">Palpites Algorítmicos 💻</a></li>
                        <li><a href="#tab-logic" id="tab-logic-link" class="tab-link" role="tab" aria-selected="false" aria-controls="tab-logic">Análises Lógicas 🧠</a></li>
                    </ul>
                </nav>

                <div class="tabs-content">
                    <div id="tab-hot" class="tab-panel active" role="tabpanel" aria-labelledby="tab-hot-link">
                        <div class="card" id="hot-numbers-hunch-card" aria-labelledby="hot-numbers-hunch-title">
                            <h3 id="hot-numbers-hunch-title"><i class="fas fa-fire" aria-hidden="true"></i> Palpite Números Quentes</h3>
                            <label for="hot-numbers-analyze-count" style="display:block; margin-top:1rem;">Analisar os últimos quantos concursos?</label>
                            <input type="number" id="hot-numbers-analyze-count" value="20" min="1" max="100" style="width: 100px; margin-bottom: 1rem;">
                            <div class="button-group">
                                <button id="generate-hot-numbers-hunch-btn" class="action-btn primary-action"><i class="fas fa-chart-line" aria-hidden="true"></i> Gerar Palpite Quente</button>
                            </div>
                            <div id="hot-numbers-hunch-output" class="game-card" style="display:none; margin-top: 1rem;" aria-live="polite" aria-atomic="true">
                                <h4><i class="fas fa-temperature-high" aria-hidden="true"></i> Seu Palpite Quente:</h4>
                                <div id="hot-numbers-hunch-numbers" class="game-numbers"></div>
                                <p id="hot-numbers-hunch-strategy" class="strategy-text"></p>
                                <div class="game-card-actions">
                                     <button id="save-hot-hunch-btn" class="action-btn small-btn" title="Salvar este jogo" style="display:none;"><i class="fas fa-save"></i> Salvar</button>
                                     <button id="check-hot-hunch-btn" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                                </div>
                                <div id="hot-hunch-check-result" class="check-result-display" aria-live="polite"></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-cold" class="tab-panel" role="tabpanel" aria-labelledby="tab-cold-link">
                        <div class="card" id="cold-numbers-hunch-card" aria-labelledby="cold-numbers-hunch-title">
                            <h3 id="cold-numbers-hunch-title"><i class="fas fa-snowflake" aria-hidden="true"></i> Palpite Números Frios</h3>
                            <label for="cold-numbers-analyze-count" style="display:block; margin-top:1rem;">Analisar os últimos quantos concursos?</label>
                            <input type="number" id="cold-numbers-analyze-count" value="20" min="1" max="100" style="width: 100px; margin-bottom: 1rem;">
                            <div class="button-group">
                                <button id="generate-cold-numbers-hunch-btn" class="action-btn primary-action"><i class="fas fa-icicles" aria-hidden="true"></i> Gerar Palpite Frio</button>
                            </div>
                            <div id="cold-numbers-hunch-output" class="game-card" style="display:none; margin-top: 1rem;" aria-live="polite" aria-atomic="true">
                                <h4><i class="far fa-snowflake" aria-hidden="true"></i> Seu Palpite Frio:</h4>
                                <div id="cold-numbers-hunch-numbers" class="game-numbers"></div>
                                <p id="cold-numbers-hunch-strategy" class="strategy-text"></p>
                                <div class="game-card-actions">
                                    <button id="save-cold-hunch-btn" class="action-btn small-btn" title="Salvar este jogo" style="display:none;"><i class="fas fa-save"></i> Salvar</button>
                                    <button id="check-cold-hunch-btn" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                                </div>
                                <div id="cold-hunch-check-result" class="check-result-display" aria-live="polite"></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-esoteric" class="tab-panel" role="tabpanel" aria-labelledby="tab-esoteric-link">
                         <div class="card" id="esoteric-hunch-card" aria-labelledby="esoteric-title"> 
                            <h3 id="esoteric-title"><i class="fas fa-hat-wizard" aria-hidden="true"></i> Palpites Cósmicos</h3>
                            <label for="birth-date-input" style="display:block; margin-top:1rem;">Sua Data de Nascimento (DDMMAAAA):</label>
                            <input type="text" id="birth-date-input" placeholder="Ex: 25121990" maxlength="8" inputmode="numeric" pattern="\\d{8}">
                            <div class="button-group" style="margin-top:1rem;">
                                <button id="generate-esoteric-hunch-btn" class="action-btn primary-action"><i class="fas fa-meteor"></i> Gerar Palpite Cósmico</button>
                            </div>
                            <div id="esoteric-hunch-output" class="game-card" style="display:none; margin-top: 1rem;" aria-live="polite" aria-atomic="true">
                                <h4><i class="fas fa-wand-sparkles" aria-hidden="true"></i> Seu Palpite Cósmico:</h4>
                                <div id="esoteric-hunch-numbers" class="game-numbers"></div>
                                <p id="esoteric-hunch-method" class="strategy-text"></p>
                                <div id="esoteric-hunch-history-check" class="check-result-display" style="margin-top: 0.5rem; font-size: 0.85em;" aria-live="polite"></div>
                                 <div class="game-card-actions">
                                    <button id="save-esoteric-hunch-btn" class="action-btn small-btn" title="Salvar este jogo" style="display:none;"><i class="fas fa-save"></i> Salvar</button>
                                    <button id="check-esoteric-hunch-btn" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-algorithmic" class="tab-panel" role="tabpanel" aria-labelledby="tab-algorithmic-link">
                        <div class="card" id="quick-hunch-card" aria-labelledby="quick-hunch-title"> 
                            <h3 id="quick-hunch-title"><i class="fas fa-bolt" aria-hidden="true"></i> Palpite Aleatório Otimizado</h3>
                            <div class="button-group" style="margin-top:1rem;">
                                <button id="generate-quick-hunch-btn" class="action-btn primary-action"><i class="fas fa-random" aria-hidden="true"></i> Gerar Palpite</button>
                            </div>
                            <div id="quick-hunch-output" class="game-card" style="display:none;" aria-live="polite" aria-atomic="true">
                                <h4><i class="fas fa-lightbulb" aria-hidden="true"></i> Seu Palpite:</h4>
                                <div id="quick-hunch-numbers" class="game-numbers"></div>
                                <p id="quick-hunch-strategy" class="strategy-text"></p>
                                <div class="game-card-actions">
                                    <button id="save-quick-hunch-btn" class="action-btn small-btn" title="Salvar este jogo" style="display:none;"><i class="fas fa-save"></i> Salvar</button>
                                    <button id="check-quick-hunch-btn" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                                </div>
                                <div id="quick-hunch-check-result" class="check-result-display" aria-live="polite"></div>
                            </div>
                        </div>
                    </div>
                    <div id="tab-logic" class="tab-panel" role="tabpanel" aria-labelledby="tab-logic-link">
                        <div class="card" id="logic-hunch-card">
                            <h3 id="logic-hunch-title"><i class="fas fa-brain"></i> Palpite Lógico Estratégico</h3>
                            <p>Este gerador utiliza análises de frequência, atraso e outros padrões para criar um palpite mais elaborado com base na loteria selecionada.</p>
                            <div class="button-group" style="margin-top:1rem;">
                                <button id="generate-logic-hunch-btn" class="action-btn primary-action"><i class="fas fa-cogs"></i> Gerar Palpite Lógico</button>
                            </div>
                            <div id="logic-hunch-output" class="game-card" style="display:none; margin-top: 1rem;" aria-live="polite" aria-atomic="true">
                                <h4><i class="fas fa-lightbulb"></i> Seu Palpite Lógico:</h4>
                                <div id="logic-hunch-numbers" class="game-numbers"></div>
                                <p id="logic-hunch-strategy" class="strategy-text"></p>
                                <div class="game-card-actions">
                                    <button id="save-logic-hunch-btn" class="action-btn small-btn" title="Salvar este jogo" style="display:none;"><i class="fas fa-save"></i> Salvar</button>
                                    <button id="check-logic-hunch-btn" class="action-btn small-btn" title="Conferir este jogo" style="display:none;"><i class="fas fa-check-circle"></i> Conferir</button>
                                </div>
                                <div id="logic-hunch-check-result" class="check-result-display" aria-live="polite"></div>
                            </div>
                            <hr style="margin: 1.5rem 0;">
                            <h4><i class="fas fa-chart-pie"></i> Inspiração Adicional:</h4>
                            <p>Consulte as estatísticas de "Mais Sorteados" na seção de informações da loteria para complementar sua estratégia.</p>
                            <div id="frequency-list-container-logic-tab" class="stats-list-container" style="margin-top:1rem;"><p>Selecione uma loteria para ver os números mais sorteados.</p></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="manual-tools-section" class="dashboard-subsection" aria-labelledby="manual-tools-title-h3" style="margin-top: 2rem;">
                 <h3 id="manual-tools-title-h3" class="card-title-accessible">
                    <i class="fas fa-calculator" aria-hidden="true"></i> Ferramentas Manuais para <span id="dynamic-lottery-name-manual">Mega-Sena</span>
                </h3>
                <div class="grid-container-tools">
                    <div class="card" id="manual-game-probability-card" aria-labelledby="manual-game-prob-title">
                        <h3 id="manual-game-prob-title"><i class="fas fa-percentage"></i> Probabilidade do Meu Jogo</h3>
                        <label for="manual-prob-user-numbers" style="display:block; margin-top:1rem;">Seus números (separados por vírgula):</label>
                        <textarea id="manual-prob-user-numbers" rows="3" placeholder="Ex: 01,02,03,04,05,06"></textarea>
                        <p id="manual-prob-numbers-count-feedback" class="input-feedback" aria-live="polite">Números: 0 de X.</p>
                        <button id="manual-calculate-prob-btn" class="action-btn primary-action" style="width:100%;"><i class="fas fa-percent"></i> Calcular Probabilidade</button>
                        <div id="manual-probability-result-display" class="result-display-box" style="margin-top:15px;" aria-live="polite">
                            Aguardando seu jogo...
                        </div>
                    </div>

                    <div class="card" id="manual-game-save-card" aria-labelledby="manual-game-save-title">
                        <h3 id="manual-game-save-title"><i class="fas fa-keyboard"></i> Salvar Jogo Manual</h3>
                        <label for="manual-save-user-numbers">Seus números (separados por vírgula):</label>
                        <textarea id="manual-save-user-numbers" rows="3" placeholder="Ex: 01,02,03,04,05,06 (para Mega-Sena)"></textarea>
                        <p id="manual-save-numbers-count-feedback" class="input-feedback">Números: 0 de X.</p>
                        <button id="manual-save-game-btn" class="action-btn primary-action" style="width:100%;"><i class="fas fa-save"></i> Salvar Jogo Manual</button>
                        <div id="manual-save-game-result-display" class="result-display-box" style="margin-top:15px; display:none;" aria-live="polite"></div>
                    </div>

                    <div class="card" id="verify-past-game-card" aria-labelledby="verify-past-game-card-title-h3">
                        <h3 id="verify-past-game-card-title-h3"><i class="fas fa-history"></i> Conferir Jogo Passado da <span id="verify-past-game-title-dynamic">Mega-Sena</span></h3>
                        <label for="past-game-contest">Número do Concurso:</label>
                        <input type="number" id="past-game-contest" placeholder="Ex: 2700">
                        <label for="past-game-numbers" id="past-game-numbers-label">Seu Jogo (6 números separados por vírgula):</label>
                        <textarea id="past-game-numbers" rows="2" placeholder="Ex: 01,02,03,04,05,06"></textarea>
                        <button id="verify-past-game-btn" class="action-btn primary-action" style="width:100%; margin-top:1rem;"><i class="fas fa-search-dollar"></i> Verificar Jogo</button>
                        <div id="verify-past-game-result" class="result-display-box" style="margin-top:15px; display:none;" aria-live="polite"></div>
                    </div>
                </div>
            </section>

            <div id="banner-bottom-dashboard" class="ad-placeholder banner-bottom-dashboard carousel-ad" role="complementary" aria-label="Espaço para anúncio inferior" style="margin-top: 2rem;">
                 <p>Carregando anúncio...</p>
            </div>
        </section>

        <section id="my-games-section" class="main-section" aria-labelledby="my-games-title">
            <h2 id="my-games-title"><i class="fas fa-history" aria-hidden="true"></i> Meus Jogos Salvos</h2>
            <div id="saved-games-filters" style="margin-bottom: 1rem; display:flex; gap:10px; align-items:center;">
                <label for="filter-lottery-mygames">Filtrar:</label>
                <select id="filter-lottery-mygames" aria-label="Filtrar jogos salvos por loteria">
                    <option value="todos">Todas</option>
                    <option value="megasena">Mega-Sena</option><option value="lotofacil">Lotofácil</option>
                    <option value="lotomania">Lotomania</option><option value="quina">Quina</option>
                </select>
            </div>
            <div id="saved-games-container" class="grid-container cards-display" aria-live="polite">
                <p id="no-saved-games" style="display:none;">Você ainda não tem jogos salvos.</p>
            </div>
        </section>
        <section id="pools-section" class="main-section" aria-labelledby="pools-title">
             <h2 id="pools-title"><i class="fas fa-users"></i> Bolões Comunitários</h2>
             <p>Em breve: Crie e participe de bolões inteligentes para aumentar suas chances!</p>
        </section>
    </main>

    <div id="login-modal" class="modal" role="dialog" aria-labelledby="login-modal-title" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" id="close-login-modal" aria-label="Fechar modal de login">&times;</button>
            <h2 id="login-modal-title">Login</h2>
            <label for="login-email">Email:</label>
            <input type="email" id="login-email" placeholder="Seu Email" required aria-required="true">
            <label for="login-password">Senha:</label>
            <input type="password" id="login-password" placeholder="Sua Senha" required aria-required="true">
            <button id="login-submit-btn" class="modal-btn">Entrar</button>
            <p id="login-error" class="error-message" aria-live="assertive"></p>
        </div>
    </div>

    <div id="register-modal" class="modal" role="dialog" aria-labelledby="register-modal-title" aria-modal="true">
        <div class="modal-content">
            <button class="close-btn" id="close-register-modal" aria-label="Fechar modal de registro">&times;</button>
            <h2 id="register-modal-title">Criar Conta</h2>
            <label for="register-email">Email:</label>
            <input type="email" id="register-email" placeholder="Seu Email" required aria-required="true">
            <label for="register-password">Senha:</label>
            <input type="password" id="register-password" placeholder="Crie uma Senha (mín. 6 caracteres)" required aria-required="true">
            <label for="register-confirm-password">Confirme a Senha:</label>
            <input type="password" id="register-confirm-password" placeholder="Confirme a Senha" required aria-required="true">
            <button id="register-submit-btn" class="modal-btn">Registrar</button>
            <p id="register-error" class="error-message" aria-live="assertive"></p>
        </div>
    </div>

    <div id="prize-notification-modal" class="modal" role="dialog" aria-labelledby="prize-modal-title" aria-modal="true" style="display:none;">
        <div class="modal-content">
            <button class="close-btn" id="close-prize-modal" aria-label="Fechar modal de premiação">&times;</button>
            <div id="confetti-canvas-modal" style="position: absolute; top:0; left:0; width:100%; height:100%; pointer-events:none; z-index:-1;"></div>
            <h2 id="prize-modal-title" style="color: #ffd700;"><i class="fas fa-trophy"></i> Parabéns!</h2>
            <p id="prize-message" aria-live="assertive" style="font-size: 1.1rem; margin-bottom: 1rem;">Você tem jogos premiados!</p>
            <div id="prize-details-container" style="margin-top:1rem; margin-bottom:1.5rem; max-height: 150px; overflow-y: auto; padding-right: 10px;">
            </div>
            <p style="font-size:0.9em; margin-top:1.5rem; color: #c5dcf0;">
                Gostou da ajuda do Loto Genius? Considere uma contribuição para mantermos a plataforma no ar e evoluindo!
            </p>
            <p style="margin-top:0.5rem;">
                <strong>Chave PIX CPF:</strong> <span id="pix-key-display">334.021.198-11</span>
                <button id="copy-pix-key-btn" class="action-btn small-btn" title="Copiar Chave PIX" style="margin-left: 10px;"><i class="fas fa-copy"></i> Copiar</button>
            </p>
            <button id="ok-prize-modal-btn" class="modal-btn" style="margin-top:1.5rem;">Ok, Entendi!</button>
        </div>
    </div>

    <footer role="contentinfo">
        <p>&copy; <span id="current-year"></span> Loto Genius AI. Jogue com consciência e responsabilidade.</p>
    </footer>
    <div id="global-error-msg" role="alert" aria-live="assertive"></div>
    <div id="confetti-canvas" aria-hidden="true"></div>

</body>
</html>